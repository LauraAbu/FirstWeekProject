@{
    ViewBag.Title = "Home Page";
}

@*<div class="jumbotron">
    <h1>ASP.NET</h1>
    <p class="lead">ASP.NET is a free web framework for building great Web sites and Web applications using HTML, CSS and JavaScript.</p>
    <p><a href="https://asp.net" class="btn btn-primary btn-lg">Learn more &raquo;</a></p>
</div>*@

<div class="row">
    @section Scripts
{
        <script type="text/javascript">
            $(document).ready(function () {
                $.ajax({
                    url: "/api/contacts",
                }).done(function (contacts) {
                    contacts.forEach(function (contact) {
                        $('#dynamic-table').append(
                            '<tr><td>' + contact.Name + '</td>' +
                            '<td>' + contact.LastName + '</td>' +
                            '<td>' + contact.EmailAddress + '</td>' +
                            '<td>' + contact.Phone + '</td>' +
                            '<td> <a href="Contact/Details/' + contact.Id + '"> View </a> </td>' +
                            '</tr>'
                        );
                    });
                });
            });
        </script>
    }
  
    <div class="row">  <!--dynamic table-->
        <table class="table table-hover">
            <thead>
                <tr>
                    <th>First Name</th>
                    <th>Last Name</th>
                    <th>Email</th>
                    <th>Phone</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody id="dynamic-table"></tbody>
        </table>
    </div>   <!--dynamic table end-->
   
   
    <div class="row">

        
        <table class="table table-hover">

            <thead>
                <tr>
                    <th>First Name</th>
                    <th>Last Name</th>
                    <th>Email</th>
                    <th>Phone</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                @{ var index = 0;}
                @foreach (var contact in Model)
                {
                    <tr>
                        <td>@contact.Name</td>
                        <td>@contact.LastName</td>
                        <td>@contact.EmailAddress</td>
                        <td>@contact.Phone</td>
                        <td> <a href="Contact/Details/@index"> View </a> </td>
                        @{index++;}
                    </tr>
                            }
            </tbody>
        </table>
       
    </div>
